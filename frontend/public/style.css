/* ================================================= */
/* 1. Defini√ß√µes de Vari√°veis e Temas */
/* ================================================= */

/* IN√çCIO: Tema Escuro NOVO (Dark Mode) - Preto com Neon Dourado */
:root {
    --color-background: #0D0D0D;       /* Fundo preto */
    --color-primary: #FFD700;          /* Dourado Neon (principal) */
    --color-secondary: #FF8C00;        /* Laranja/Cobre Neon (secund√°rio) */
    --color-match: #00FF00;            /* Verde Neon (acerto) */
    --color-text: #F0F0F0;             /* Texto claro */
    --color-shadow: 0 0 10px;          /* Sombra neon padr√£o */
    --color-card-back: var(--color-secondary);
    --color-card-back-text: var(--color-background); /* Texto escuro na carta */
    --color-pokedex-bg: rgba(0, 0, 0, 0.7); /* Opacidade para ver o v√≠deo */
    --color-header-bg: rgba(13, 13, 13, 0.95);

    /* CORES LOGO PRINCIPAL */
    --logo-ball-top: #CC0000;
    --logo-ball-bottom: #FFFFFF;

    /* CORES MASTER BALL (√çcone do Dark Mode) */
    --master-main-color: #202020;       /* Preto/Cinza Escuro */
    --master-secondary-color: #FFD700;  /* Dourado Neon (detalhe) */
    --master-center-ring: #B3F58C;      /* Verde Claro (c√≠rculo central) - Mantido para contraste */
    
    /* CORES POKEBALL (√çcone do Light Mode) - Mantidas Cl√°ssicas para contraste */
    --pokeball-top-color: #E60000;      /* Vermelho */
    --pokeball-bottom-color: #F9F9F9;   /* Branco */
    --pokeball-center-ring: #333333;    /* Preto */
}

/* Tema Claro NOVO (Light Mode) - Azul Beb√™, Amarelo e Verde Turquesa */
body.light-mode {
    --color-background: #F0F8FF;        /* Azul Beb√™ Claro */
    --color-primary: #87CEEB;           /* Azul Claro/C√©u */
    --color-secondary: #40E0D0;         /* Verde Turquesa */
    --color-match: #FFEB3B;             /* Amarelo Vibrante (acerto) */
    --color-text: #333333;              /* Texto escuro */
    --color-shadow: 0 0 5px;            
    --color-card-back: var(--color-primary); 
    --color-card-back-text: #FFFFFF;
    --color-pokedex-bg: rgba(255, 255, 255, 0.9);
    --color-header-bg: rgba(240, 248, 255, 0.95);

    /* CORES LOGO PRINCIPAL */
    --logo-ball-top: #E60000;
    --logo-ball-bottom: #F9F9F9;

    /* CORES POKEBALL (√çcone do Light Mode) */
    --pokeball-top-color: #E60000;
    --pokeball-bottom-color: #F9F9F9;
    --pokeball-center-ring: #333333;
}


/* --- NOVO: Fundo de V√≠deo (Pixel Art) --- */
#background-video {
    position: fixed;
    top: 0;
    left: 0;
    /* Garante que o v√≠deo cubra 100% da viewport */
    min-width: 100vw;
    min-height: 100vh;
    width: auto;
    height: auto;
    z-index: -1; /* Fica atr√°s de todos os elementos */
    object-fit: cover; /* Garante que o v√≠deo preencha sem distorcer */
    
    /* Escurece e suaviza o v√≠deo no modo escuro para melhor legibilidade */
    filter: brightness(0.6) grayscale(0.2); 
    transition: filter 0.3s;
}

/* Ajuste no modo claro: aumenta o brilho, mas mant√©m um pouco de filtro */
body.light-mode #background-video {
    filter: brightness(0.8) grayscale(0.1); 
}

/* ================================================= */
/* 2. Estilos Globais e Layout Base */
/* ================================================= */

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background: var(--color-background);
    width: 100vw;
    min-height: 100vh;
    overflow-x: hidden;
    font-family: 'Consolas', 'Courier New', monospace;
    color: var(--color-text);
    display: flex;
    justify-content: center;
    padding-top: 100px; 
    padding-bottom: 50px;
    transition: background 0.3s; 
}

.hidden {
    display: none !important;
}

/* ================================================= */
/* 3. Estilos do Cabe√ßalho (Header Fixo) */
/* ================================================= */

#main-header {
    position: fixed; 
    top: 0;
    left: 0;
    width: 100%;
    height: 80px; 
    background: var(--color-header-bg);
    border-bottom: 2px solid var(--color-primary);
    box-shadow: 0 0 15px var(--color-primary);
    backdrop-filter: blur(5px); 
    z-index: 100; 
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
}

.logo-area {
    display: flex;
    align-items: center;
    gap: 15px;
}

#main-header h1 {
    font-size: 1.8em;
    color: var(--color-primary);
    text-shadow: var(--color-shadow) var(--color-primary);
    margin: 0; 
    transition: color 0.3s, text-shadow 0.3s;
}

.user-controls {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* √çcone de Logo Principal (Pokebola) */
.pokeball-icon {
    width: 40px;
    height: 40px;
    background: var(--logo-ball-bottom);
    border-radius: 50%;
    position: relative;
    overflow: hidden;
    border: 3px solid var(--color-text);
    box-shadow: var(--color-shadow) var(--logo-ball-top);
    animation: rotate-pokeball 8s linear infinite; 
}
.pokeball-icon::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: var(--logo-ball-top);
}
.pokeball-icon::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 4px;
    background: var(--color-text);
    transform: translateY(-50%);
    box-shadow: 0 0 5px var(--color-text);
}
@keyframes rotate-pokeball {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Bot√£o Login/Pontua√ß√£o - Removido do HTML, mas o estilo √© gen√©rico */
#btn-login-score {
    background: var(--color-primary);
    color: var(--color-background);
    box-shadow: var(--color-shadow) var(--color-primary);
    font-size: 0.9em;
}
#btn-login-score:hover {
    background: var(--color-primary);
    box-shadow: 0 0 20px var(--color-primary);
}


/* --- Estilos do Toggle de Tema (Pok√©balls) --- */
#theme-toggle {
    position: relative; 
    background: none;
    border: none;
    padding: 0; 
    width: 36px; 
    height: 36px;
    cursor: pointer;
    box-shadow: none;
}
#theme-toggle:hover:not(:disabled) {
    background: none;
    box-shadow: none;
}

.pokeball-icon-toggle {
    position: absolute; 
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    overflow: hidden;
    border: 2px solid var(--color-text);
    box-shadow: 0 0 5px var(--color-primary); 
    transition: all 0.3s;
}
.pokeball-icon-toggle:hover {
    transform: translate(-50%, -50%) scale(1.1);
}

/* 4.2. ESTILO POKEBALL (Modo Claro - Vermelho e Branco) */
.pokeball-style {
    background: var(--pokeball-bottom-color); /* Branco (Metade inferior) */
    border-color: var(--pokeball-center-ring); /* Borda preta */
}

/* Metade Superior (Vermelha) + Linha Central Preta - Usando ::before (Z-index 1) */
.pokeball-style::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: var(--pokeball-top-color); /* Vermelho */
    /* Linha divis√≥ria preta */
    border-bottom: 3px solid var(--pokeball-center-ring); 
    z-index: 1;
}

/* Bolinha Central da Pok√©ball - Usando ::after (Z-index 3) */
.pokeball-style::after {
    content: ''; 
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--pokeball-center-ring); /* Preto */
    border: 3px solid var(--pokeball-bottom-color); /* Anel branco */
    z-index: 3;
    box-shadow: 0 0 5px var(--pokeball-center-ring);
}


/* 4.3. ESTILO MASTER BALL (Modo Escuro - Detalhado) */
.masterball-style {
    background: var(--master-main-color); /* Preto/Cinza Escuro */
    border-color: var(--master-main-color); 
}

/* Bolinha Central da Master Ball - Usando ::before (Z-index 3) */
.masterball-style::before {
    content: ''; 
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--master-center-ring); /* Verde Claro */
    border: 2px solid var(--master-secondary-color); /* Dourado */
    z-index: 3;
    box-shadow: 0 0 5px var(--master-center-ring);
}

/* Detalhe da Listra Central - Usando ::after (Z-index 2) */
.masterball-style::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 5px; 
    background: var(--master-secondary-color); /* Dourado */
    transform: translateY(-50%);
    box-shadow: 0 0 5px var(--master-secondary-color);
    z-index: 2;
}

/* üö® Detalhes Laterais (Garras Douradas) */
.masterball-style .master-detail-left,
.masterball-style .master-detail-right {
    position: absolute;
    top: 50%;
    width: 40%; 
    height: 4px; 
    background: var(--master-secondary-color); /* Dourado */
    transform-origin: center center;
    box-shadow: 0 0 3px var(--master-secondary-color);
    z-index: 4;
}

.masterball-style .master-detail-left {
    left: -20%; 
    transform: translateY(-50%) rotate(45deg); 
}

.masterball-style .master-detail-right {
    right: -20%; 
    transform: translateY(-50%) rotate(-45deg); 
}


/* ================================================= */
/* 5. Estilos da √Årea Principal (Pokedex) */
/* ================================================= */

#pokedex {
    width: 90%;
    max-width: 800px;
    background: var(--color-pokedex-bg); 
    border: 2px solid var(--color-primary);
    box-shadow: var(--color-shadow) var(--color-secondary);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    transition: background 0.3s, border-color 0.3s;
}

h2 {
    font-size: 1.5em;
    color: var(--color-secondary);
    margin-bottom: 20px;
}

/* Estilos de Bot√µes Padr√£o */
button {
    background: var(--color-secondary);
    color: var(--color-text);
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    text-transform: uppercase;
    box-shadow: var(--color-shadow) var(--color-secondary);
    transition: all 0.2s ease-in-out;
}

button:hover:not(:disabled) {
    background: var(--color-secondary); 
    /* Ajuste para um hover mais sutil ou mais vibrante, dependendo do tema */
    box-shadow: 0 0 15px var(--color-primary); 
}
body.light-mode button:hover:not(:disabled) {
    background: var(--color-secondary); 
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    box-shadow: none;
}

.options-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-bottom: 30px;
}
.options-container button {
    flex: 1 1 40%;
    max-width: 300px;
}

.back-button, #btn-error-return, #btn-win-return {
    margin-top: 20px;
    background: none;
    border: 1px solid var(--color-text);
    color: var(--color-text);
    box-shadow: none;
}

.back-button:hover, #btn-error-return:hover, #btn-win-return:hover {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 0 5px var(--color-text);
}

/* Painel de Movimentos */
#panel {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding: 10px;
    background: rgba(255, 215, 0, 0.1); /* Dourado suave */
    border: 1px solid var(--color-primary);
    border-radius: 5px;
}
#moves {
    color: var(--color-primary);
    font-weight: bold;
    font-size: 1.2em;
}

/* ================================================= */
/* 6. Estilos do Tabuleiro (Game Board) */
/* ================================================= */

#board {
    display: grid;
    grid-template-columns: repeat(6, 1fr); 
    gap: 10px;
    perspective: 1000px; 
}

.card {
    background: none;
    height: 100px; 
    width: 100%;
    position: relative;
    cursor: pointer;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    border-radius: 8px;
    border: 2px solid var(--color-primary);
    box-shadow: var(--color-shadow) var(--color-secondary);
}

.card-inner {
    position: absolute;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.card.flipped .card-inner {
    transform: rotateY(180deg);
}

.card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 6px;
    font-size: 2em;
}

.card-front {
    background: var(--color-background);
    transform: rotateY(180deg);
}
.card-front img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    border-radius: 6px;
    filter: drop-shadow(0 0 5px var(--color-match));
}

.card-back {
    background: var(--color-card-back); 
    color: var(--color-card-back-text); 
    border: 1px solid var(--color-secondary);
}
.pokemon-logo {
    font-size: 2.5em; 
    color: var(--color-primary);
    text-shadow: var(--color-shadow) var(--color-primary);
}

/* Feedback de Acerto */
.card.matched {
    cursor: default;
    border-color: var(--color-match);
    animation: match-pulse 0.5s ease-out 1;
    box-shadow: 0 0 15px var(--color-match);
}
.card.matched .card-back {
    display: none; 
}

/* Feedback de Erro */
.card.mismatch {
    border-color: red;
    box-shadow: 0 0 15px red;
    animation: mismatch-shake 0.4s ease-in-out;
}

/* Defini√ß√£o das anima√ß√µes */
@keyframes match-pulse {
    0% { transform: scale(1); box-shadow: 0 0 5px var(--color-match); }
    50% { transform: scale(1.05); box-shadow: 0 0 25px var(--color-match); }
    100% { transform: scale(1); box-shadow: 0 0 15px var(--color-match); }
}

@keyframes mismatch-shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-5px); }
    40%, 80% { transform: translateX(5px); }
}

/* ================================================= */
/* 7. Estilos da Cria√ß√£o Personalizada */
/* ================================================= */

.pokemon-input-group .preview-img {
    width: 60px;
    height: 60px;
    object-fit: contain;
    border: 2px dashed rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.3);
    padding: 2px;
    flex-shrink: 0;
}
.pokemon-input-group .preview-img.error {
    border-color: red;
    opacity: 0.5;
}


#pokemon-inputs-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
    text-align: left;
}

.pokemon-input-group {
    display: flex;
    gap: 10px;
    align-items: center;
}

.pokemon-input-group input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid var(--color-primary);
    background: rgba(0, 0, 0, 0.5);
    color: var(--color-text);
    border-radius: 44px;
    font-family: 'Consolas', monospace;
}
body.light-mode .pokemon-input-group input {
    background: #fff;
    color: var(--color-text);
    border-color: var(--color-primary);
}


.pokemon-input-group .remove-button {
    padding: 8px;
    min-width: 40px;
    background: darkred;
    border-color: red;
    box-shadow: 0 0 5px red;
}
.pokemon-input-group .remove-button:hover:not(:disabled) {
    background: red;
}

/* ================================================= */
/* 8. Estilos de Feedback (Loading/Erro/Vit√≥ria) */
/* ================================================= */

#loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: var(--color-primary);
    text-align: center;
    font-size: 1.2em;
}

.spinner {
    border: 8px solid rgba(255, 215, 0, 0.3); /* Dourado suave */
    border-top: 8px solid var(--color-primary);
    border-radius: 50%;
    width: 60px;
    height: 60px;
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
    box-shadow: var(--color-shadow) var(--color-primary);
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}


#error-message {
    padding: 15px;
    margin: 20px auto 0;
    background: rgba(139, 0, 0, 0.8); 
    border: 2px solid red;
    border-radius: 5px;
    text-align: center;
    color: #fff;
    box-shadow: 0 0 10px red;
}
#error-message p {
    margin-bottom: 10px;
    font-weight: bold;
}


#win-screen h2 {
    color: var(--color-match);
    text-shadow: var(--color-shadow) var(--color-match);
}
#final-moves {
    font-size: 2.5em;
    color: var(--color-primary);
    text-shadow: var(--color-shadow) var(--color-primary);
    display: block;
    margin: 15px 0;
}


/* ================================================= */
/* 9. Media Queries (Responsividade) */
/* ================================================= */

@media (max-width: 768px) {
    body {
        padding-top: 70px;
    }
    #main-header {
        height: 60px;
        padding: 0 10px;
    }
    #main-header h1 {
        font-size: 1.4em;
    }
    .pokeball-icon {
        width: 30px;
        height: 30px;
    }
    
    #board {
        grid-template-columns: repeat(4, 1fr); 
    }
    .pokemon-input-group {
        flex-direction: column;
    }
    .pokemon-input-group input {
        width: 100%;
    }
    #theme-toggle {
        width: 32px; 
        height: 32px;
    }
    .pokeball-icon-toggle {
        width: 28px;
        height: 28px;
    }
}

@media (max-width: 480px) {
    #board {
        grid-template-columns: repeat(3, 1fr); 
        gap: 8px;
    }
    .card {
        height: 80px;
    }
    .options-container button {
        flex: 1 1 100%;
    }
    #main-header h1 {
        font-size: 1.2em;
    }
    #btn-login-score {
        padding: 5px 10px;
        font-size: 0.8em;
    }
}